<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body>

    {%- include header.html -%}

    <style>
      .page-content {
        display: grid;
        grid-template-columns: 75% 25%;
        margin-left:1em;
        margin-right:1em;
        overflow:visible;
      }
      .right-sidebar {
        position:sticky;
        top:0;
        height:100vh;
        overflow-y:scroll;
      }
      .post-header {
        padding:1em;
        margin-bottom:0;
        padding-bottom:0;
      }
    </style>

    <header class="post-header">
      <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
      <p class="post-meta">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {%- if page.date -%}
        <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
          Published {{ page.date | date: date_format }}
        </time>
        {%- endif -%}

        {%- if page.modified_date -%}
          {%- if page.date -%}
          /&nbsp;
          {%- endif -%}
          Last Updated
          {%- assign mdate = page.modified_date | date_to_xmlschema -%}
          <time class="dt-modified" datetime="{{ mdate }}" itemprop="dateModified">
            {{ mdate | date: date_format }}
          </time>
        {%- endif -%}
        {%- if page.author -%}
          â€¢ {% for author in page.author %}
            <span itemprop="author" itemscope itemtype="http://schema.org/Person">
              <span class="p-author h-card" itemprop="name">{{ author }}</span></span>
              {%- if forloop.last == false %}, {% endif -%}
          {% endfor %}
        {%- endif -%}</p>
    </header>
    <main class="page-content" aria-label="Content">
      <div class="content">
        {{ content }}
      </div>
      <div>
        <aside class="right-sidebar">
          <nav class="toc">
            <header><h4 class="nav__title"><i class="fas fa-{{ page.toc_icon | default: 'file-alt' }}"></i> {{ page.toc_label | default: site.data.ui-text[site.locale].toc_label | default: "On this page" }}</h4></header>
            {% include toc.html sanitize=true html=content h_min=1 h_max=6 class="toc__menu" %}
          </nav>
        </aside>
      </div>
    </main>

    {%- include footer.html -%}

  </body>

</html>
